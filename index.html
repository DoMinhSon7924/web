<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dành cho Miu Miu ❤️</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            background: linear-gradient(45deg, #0a0a0a, #1a0a0a, #2a0a0a);
            font-family: 'Georgia', serif;
            height: 100vh;
        }
        
        canvas {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,.2);
        }
        
        .love-text {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 4rem;
            color: #ff69b4;
            text-shadow: 0 0 20px #ff1493, 0 0 40px #ff1493, 0 0 60px #ff1493;
            font-weight: bold;
            letter-spacing: 3px;
            opacity: 0;
            animation: heartbeat 2s infinite;
            z-index: 100;
            text-align: center;
        }
        
        @keyframes heartbeat {
            0% { opacity: 0.3; transform: translateX(-50%) scale(1); }
            25% { opacity: 1; transform: translateX(-50%) scale(1.1); }
            50% { opacity: 0.7; transform: translateX(-50%) scale(1); }
            75% { opacity: 1; transform: translateX(-50%) scale(1.05); }
            100% { opacity: 0.3; transform: translateX(-50%) scale(1); }
        }
        
        .floating-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }
        
        .floating-heart {
            position: absolute;
            color: #ff69b4;
            font-size: 2rem;
            opacity: 0.8;
            animation: float 6s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .love-message {
            position: absolute;
            bottom: 15%;
            left: 50%;
            transform: translateX(-50%);
            color: #ffc0cb;
            font-size: 1.5rem;
            text-align: center;
            opacity: 0;
            animation: fadeInOut 4s infinite;
            z-index: 100;
            text-shadow: 0 0 10px #ff69b4;
            max-width: 90%;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffff00;
            border-radius: 50%;
            animation: sparkle 2s infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: linear-gradient(45deg, #fff, #ff69b4);
            border-radius: 50%;
            box-shadow: 0 0 10px #fff;
        }
        
        @keyframes shoot {
            0% {
                transform: translateX(0) translateY(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateX(300px) translateY(300px);
                opacity: 0;
            }
        }
        
        .rose-petal {
            position: absolute;
            width: 10px;
            height: 10px;
            background: radial-gradient(ellipse at center, #ff69b4, #ff1493);
            border-radius: 50% 0 50% 0;
            animation: fall 8s infinite linear;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .love-quotes {
            position: absolute;
            top: 70%;
            left: 50%;
            transform: translateX(-50%);
            color: #ffb6c1;
            font-size: 1.2rem;
            text-align: center;
            font-style: italic;
            opacity: 0;
            animation: quoteRotate 15s infinite;
            z-index: 100;
            max-width: 80%;
        }
        
        @keyframes quoteRotate {
            0%, 20% { opacity: 0; }
            25%, 35% { opacity: 1; }
            40%, 100% { opacity: 0; }
        }
        
        .aurora {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg,
                rgba(255, 0, 150, 0.1) 0%,
                rgba(255, 105, 180, 0.05) 25%,
                rgba(138, 43, 226, 0.1) 50%,
                rgba(255, 105, 180, 0.05) 75%,
                rgba(255, 0, 150, 0.1) 100%
            );
            animation: aurora 10s infinite alternate;
            pointer-events: none;
        }
        
        @keyframes aurora {
            0% { opacity: 0.3; transform: rotate(0deg) scale(1); }
            100% { opacity: 0.7; transform: rotate(2deg) scale(1.02); }
        }
        
        .constellation {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 6px #fff;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        @media (max-width: 768px) {
            .love-text {
                font-size: 2.5rem;
                top: 15%;
            }
            .love-message {
                font-size: 1.2rem;
                bottom: 20%;
            }
            .love-quotes {
                font-size: 1rem;
                top: 65%;
            }
        }
    </style>
</head>
<body>
    <div class="aurora"></div>
    <canvas id="heart"></canvas>
    
    <div class="love-text">vk miu miu bel</div>
    
    <div class="floating-hearts"></div>
    
    <div class="love-message">
        Mỗi nhịp đập là một lời yêu thương dành cho em ❤️
    </div>
    
    <div class="love-quotes">
        <div class="quote">Em là ánh sao sáng nhất trong bầu trời của anh</div>
    </div>

    <script>
        // Optimized heart animation for mobile
        window.requestAnimationFrame = window.__requestAnimationFrame || window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || (function () {
            return function (callback, element) {
                var lastTime = element.__lastTime;
                if (lastTime === undefined) {
                    lastTime = 0;
                }
                var currTime = Date.now();
                var timeToCall = Math.max(1, 33 - (currTime - lastTime));
                window.setTimeout(callback, timeToCall);
                element.__lastTime = currTime + timeToCall;
            };
        })();

        window.isDevice = (/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(((navigator.userAgent || navigator.vendor || window.opera)).toLowerCase()));

        var loaded = false;
        var init = function () {
            if (loaded) return;
            loaded = true;
            var mobile = window.isDevice;
            var koef = mobile ? 0.3 : 0.8; // Reduced for better mobile performance
            var canvas = document.getElementById('heart');
            var ctx = canvas.getContext('2d');
            var width = canvas.width = koef * innerWidth;
            var height = canvas.height = koef * innerHeight;
            var rand = Math.random;
            
            // Improve canvas performance on mobile
            if (mobile) {
                canvas.style.imageRendering = 'pixelated';
                ctx.imageSmoothingEnabled = false;
            }
            
            ctx.fillStyle = "rgba(0,0,0,1)";
            ctx.fillRect(0, 0, width, height);

            var heartPosition = function (rad) {
                return [Math.pow(Math.sin(rad), 3), -(15 * Math.cos(rad) - 5 * Math.cos(2 * rad) - 2 * Math.cos(3 * rad) - Math.cos(4 * rad))];
            };

            var scaleAndTranslate = function (pos, sx, sy, dx, dy) {
                return [dx + pos[0] * sx, dy + pos[1] * sy];
            };

            window.addEventListener('resize', function () {
                width = canvas.width = koef * innerWidth;
                height = canvas.height = koef * innerHeight;
                ctx.fillStyle = "rgba(0,0,0,1)";
                ctx.fillRect(0, 0, width, height);
            });

            var traceCount = mobile ? 10 : 30; // Reduced trace count for mobile
            var pointsOrigin = [];
            var i;
            var dr = mobile ? 0.5 : 0.15; // Larger step for mobile
            
            // Create multiple heart layers with different sizes
            for (i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), mobile ? 150 : 210, mobile ? 8 : 13, 0, 0));
            for (i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), mobile ? 100 : 150, mobile ? 6 : 9, 0, 0));
            if (!mobile) {
                for (i = 0; i < Math.PI * 2; i += dr) pointsOrigin.push(scaleAndTranslate(heartPosition(i), 90, 5, 0, 0));
            }
            
            var heartPointsCount = pointsOrigin.length;

            var targetPoints = [];
            var pulse = function (kx, ky) {
                for (i = 0; i < pointsOrigin.length; i++) {
                    targetPoints[i] = [];
                    targetPoints[i][0] = kx * pointsOrigin[i][0] + width / 2;
                    targetPoints[i][1] = ky * pointsOrigin[i][1] + height / 2;
                }
            };

            var e = [];
            var particleCount = mobile ? Math.min(heartPointsCount, 100) : heartPointsCount; // Limit particles on mobile
            
            for (i = 0; i < particleCount; i++) {
                var x = rand() * width;
                var y = rand() * height;
                e[i] = {
                    vx: 0,
                    vy: 0,
                    R: mobile ? 1 : 2,
                    speed: rand() + (mobile ? 3 : 5),
                    q: ~~(rand() * heartPointsCount),
                    D: 2 * (i % 2) - 1,
                    force: 0.2 * rand() + 0.7,
                    f: "hsla(" + (Math.random() > 0.7 ? 0 : 300 + Math.random() * 60) + "," + ~~(40 * rand() + 60) + "%," + ~~(60 * rand() + 20) + "%,.4)",
                    trace: []
                };
                for (var k = 0; k < traceCount; k++) e[i].trace[k] = {x: x, y: y};
            }

            var config = {
                traceK: 0.4,
                timeDelta: mobile ? 0.02 : 0.01 // Slower animation on mobile
            };

            var time = 0;
            var frameCount = 0;
            var loop = function () {
                frameCount++;
                // Skip frames on mobile for better performance
                if (mobile && frameCount % 2 === 0) {
                    window.requestAnimationFrame(loop, canvas);
                    return;
                }
                
                var n = -Math.cos(time);
                pulse((1 + n) * .5, (1 + n) * .5);
                time += ((Math.sin(time)) < 0 ? 9 : (n > 0.8) ? .2 : 1) * config.timeDelta;
                ctx.fillStyle = "rgba(0,0,0,.1)";
                ctx.fillRect(0, 0, width, height);
                
                for (i = e.length; i--;) {
                    var u = e[i];
                    var q = targetPoints[u.q];
                    var dx = u.trace[0].x - q[0];
                    var dy = u.trace[0].y - q[1];
                    var length = Math.sqrt(dx * dx + dy * dy);
                    if (10 > length) {
                        if (0.95 < rand()) {
                            u.q = ~~(rand() * heartPointsCount);
                        } else {
                            if (0.99 < rand()) {
                                u.D *= -1;
                            }
                            u.q += u.D;
                            u.q %= heartPointsCount;
                            if (0 > u.q) {
                                u.q += heartPointsCount;
                            }
                        }
                    }
                    u.vx += -dx / length * u.speed;
                    u.vy += -dy / length * u.speed;
                    u.trace[0].x += u.vx;
                    u.trace[0].y += u.vy;
                    u.vx *= u.force;
                    u.vy *= u.force;
                    for (k = 0; k < u.trace.length - 1;) {
                        var T = u.trace[k];
                        var N = u.trace[++k];
                        N.x -= config.traceK * (N.x - T.x);
                        N.y -= config.traceK * (N.y - T.y);
                    }
                    ctx.fillStyle = u.f;
                    for (k = 0; k < u.trace.length; k++) {
                        ctx.fillRect(u.trace[k].x, u.trace[k].y, mobile ? 2 : 1, mobile ? 2 : 1);
                    }
                }
                window.requestAnimationFrame(loop, canvas);
            };
            loop();
        };

        var s = document.readyState;
        if (s === 'complete' || s === 'loaded' || s === 'interactive') init();
        else document.addEventListener('DOMContentLoaded', init, false);

        // Love quotes rotation
        const quotes = [
            "Em là ánh sao sáng nhất trong bầu trời của anh",
            "Yêu em không chỉ bằng trái tim mà bằng cả tâm hồn",
            "Em là lý do anh tin vào tình yêu đích thực",
            "Mỗi ngày bên em đều là một món quà tuyệt vời",
            "Em làm cho thế giới của anh trở nên hoàn hảo"
        ];
        
        let quoteIndex = 0;
        const quoteElement = document.querySelector('.quote');
        
        setInterval(() => {
            quoteIndex = (quoteIndex + 1) % quotes.length;
            quoteElement.textContent = quotes[quoteIndex];
        }, 15000);

        // Enhanced floating hearts
        function createFloatingHearts() {
            const heartsContainer = document.querySelector('.floating-hearts');
            const hearts = ['💖', '💕', '💗', '💓', '💝', '💖', '❤️', '💜', '🌹'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
                heart.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
                heart.style.animationDelay = Math.random() * 2 + 's';
                heartsContainer.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) heart.remove();
                }, 8000);
            }, 1200);
        }

        // Sparkle effects
        function createSparkles() {
            setInterval(() => {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * window.innerWidth + 'px';
                sparkle.style.top = Math.random() * window.innerHeight + 'px';
                sparkle.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode) sparkle.remove();
                }, 3000);
            }, 500);
        }

        // Shooting stars
        function createShootingStar() {
            const star = document.createElement('div');
            star.className = 'shooting-star';
            star.style.left = Math.random() * (window.innerWidth - 300) + 'px';
            star.style.top = Math.random() * (window.innerHeight - 300) + 'px';
            star.style.animation = `shoot ${2 + Math.random() * 2}s linear`;
            document.body.appendChild(star);
            
            setTimeout(() => {
                if (star.parentNode) star.remove();
            }, 4000);
        }

        // Rose petals
        function createRosePetal() {
            const petal = document.createElement('div');
            petal.className = 'rose-petal';
            petal.style.left = Math.random() * 100 + '%';
            petal.style.animationDuration = (6 + Math.random() * 4) + 's';
            petal.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(petal);
            
            setTimeout(() => {
                if (petal.parentNode) petal.remove();
            }, 10000);
        }

        // Create constellation
        function createConstellation() {
            const numStars = 20;
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.className = 'constellation';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.animationDuration = (2 + Math.random() * 2) + 's';
                document.body.appendChild(star);
            }
        }

        // Click effect - heart explosion
        document.addEventListener('click', function(e) {
            for (let i = 0; i < 12; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = ['💖', '💕', '💗', '💓'][Math.floor(Math.random() * 4)];
                heart.style.position = 'absolute';
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                heart.style.pointerEvents = 'none';
                heart.style.color = '#ff69b4';
                heart.style.fontSize = (1 + Math.random()) + 'rem';
                heart.style.zIndex = '200';
                
                const angle = (i / 12) * 2 * Math.PI;
                const velocity = 50 + Math.random() * 100;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                document.body.appendChild(heart);
                
                let posX = e.clientX;
                let posY = e.clientY;
                let opacity = 1;
                let scale = 1;
                
                const animate = () => {
                    posX += vx * 0.02;
                    posY += vy * 0.02 + 2; // gravity
                    opacity -= 0.015;
                    scale += 0.01;
                    
                    heart.style.left = posX + 'px';
                    heart.style.top = posY + 'px';
                    heart.style.opacity = opacity;
                    heart.style.transform = `scale(${scale})`;
                    
                    if (opacity > 0 && posY < window.innerHeight + 50) {
                        requestAnimationFrame(animate);
                    } else {
                        if (heart.parentNode) heart.remove();
                    }
                };
                
                animate();
            }
        });

        // Initialize all effects
        setTimeout(() => {
            createFloatingHearts();
            createSparkles();
            createConstellation();
            
            // Random shooting stars
            setInterval(() => {
                if (Math.random() > 0.7) {
                    createShootingStar();
                }
            }, 3000);
            
            // Rose petals
            setInterval(() => {
                if (Math.random() > 0.6) {
                    createRosePetal();
                }
            }, 2000);
        }, 1000);
    </script>
</body>
</html>
